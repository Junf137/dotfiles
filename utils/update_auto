#!/bin/bash

# Usage: ./update_auto.sh

update_auto() {
    # Check if apt is available
    if ! command -v apt &>/dev/null; then
        echo "Error: apt command not found. This script is compatible with Debian-based systems only."
        return 1
    fi

    local passwd=""

    # Update package lists and upgrade packages
    echo "$passwd" | sudo -S apt update
    echo "$passwd" | sudo -S apt upgrade -y

    # Check if any errors occurred during the upgrade process
    if [ "$?" -ne 0 ]; then
        echo "Error: Failed to upgrade packages. Please check the output above for details."
        return 1
    fi

    echo "Package upgrade completed successfully."
}

# Call the function
update_auto
